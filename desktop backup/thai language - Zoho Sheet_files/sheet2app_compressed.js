!function(e){function t(){}function o(){return Object.create(null)}var r="/",n=e.global||(e.global=o());t.prototype=o(),t.prototype.extend=function(e,t,r){return void 0===r&&(r=o()),Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0}),e[t]},t.prototype.getModule=function(e){var t,l,u,i=e.split(r).filter(Boolean),a=n;for(t=0,l=i.length;l>t;t++)u=a[i[t]]||(a[i[t]]=o()),a=u;return u},t.prototype.getModuleFrom=function(e,t){var n,l,u,i=t.split(r).filter(Boolean),a=e;for(n=0,l=i.length;l>n;n++)u=a[i[n]]||(a[i[n]]=o()),a=u;return u},e.module=new t}(this);!function(e){var n=e.module,t=n.getModule("SA/Common/Utils"),r="_",i=e.Event.prototype.stopPropagation||function(){this.cancelBubble=!0},o=e.Event.prototype.preventDefault||function(){this.returnValue=!1};t.min=function(e,n){return n>e?e:n},t.setTitle=function(e,n){e&&e.setAttribute("title",n)},t.parseResponse=function(e){return e&&""!=e&&JSON.parse(e)},t.getWindowHeight=function(){return $(window).height()},t.getDocumentHeight=function(){return $(document).height()},t.flatternArray=function(e){function n(e,r){if(!t.isArray(e))return e;for(var i=0,o=e.length;o>i;i++)t.isArray(e[i])?n(e[i],r):r.push(e[i])}var r=[];return n(e,r),r},t.getMinIndex=function(e){if(!t.isUndefined(e)){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0,o=e.length;o>i;i++)e[i]<n&&(n=e[i],r=i);return r}},t.countTrue=function(e){var n=0;if(!t.isUndefined(e))for(var r in e)e[r]&&++n;return n},t.addReadOnlyProperty=function(e,n,t){Object.defineProperty(e,n,{enumerable:!0,value:t,writable:!1,configurable:!1})},t.isNumber=function(e){return isNaN(e)||""==e?!1:!0},t.createPureObject=function(){return Object.create(null)},t.isUndefined=function(e){return void 0==e},t.isUndefinedAll=function(e){var n,r=e&&e.length||0;for(n=0;r>n;n++)if(t.isUndefined(e[n]))return!0;return!1},t.has=function(e,n){return Object.hasOwnProperty.call(e,n)},t.mixIn=t.clone=function(e,n){for(var r in n)e[r]="o"==(typeof n[r])[0]?t.clone(n[r].constructor(),n[r]):n[r];return e},t.extend=function(e,n){for(var r in n)!e[r]&&(e[r]="o"==(typeof n[r])[0]?t.extend(n[r].constructor(),n[r]):n[r]);return e},t.isArray=function(e){return Array.isArray(e)},t.hide=function(e){!t.isUndefined(e)&&(e.style.display="none")},t.hideAll=function(e){var n=0,r=0;for(!t.isUndefined(e)&&t.isArray(e)&&(n=e.length);n>r;r++)t.hide(e[r])},t.show=function(e,n){!t.isUndefined(e)&&(e.style.display=n||"")},t.showAll=function(e){var n=0,r=0;for(!t.isUndefined(e)&&t.isArray(e)&&(n=e.length);n>r;r++)t.hide(e[r])},t.isNaN=function(n){return e.isNaN(n)},t.bindEvent=function(e,n,t){e&&e.addEventListener(n,t)},t.removeEvent=function(e,n,t){e&&e.removeEventListener(n,t)},t.isDOM=function(e){return e instanceof HTMLElement},t.mixCssProp=function(e,n){for(var r in n)t.has(n,r)&&r in document.body.style&&(e.style[r]=n[r])},t.addClass=function(e,n){if(t.isDOM(e)){n=n.split(" ");for(var r=0,i=n.length;i>r;r++)e.classList.add(n[r]||"")}},t.setLabel=function(e,n){t.isUndefinedAll([e,n])||(e.textContent=n)},t.removeClass=function(e,n){if(t.isDOM(e)){n=n.split(" ");for(var r=0,i=n.length;i>r;r++)e.classList.remove(n[r]||"")}},t.removeAllClass=function(e){t.isDOM(e)&&(e.classList="")},t.getRanges=function(e,n,r){if(!t.isUndefined(e)){t.isUndefined(n)&&(n=0),t.isUndefined(r)&&(r=e.length);var i=[];i[0]=i[1]=e[n];for(var o=n+1;r>=o;o++)i[i.length-1]+1!=e[o]?(i.push(e[o]),i.push(e[o])):(i.pop(),i.push(e[o]));return i}},t.eventFactory=function(e,n){return function(t){n&&n(e,t,this)}},t.linkEvent=function(e,n,t){t&&t(e,n)},t.stopPropagation=function(e){i.call(e)},t.preventDefault=function(e){o.call(e)},t.getFragment=function(){return document.createDocumentFragment()},t.renderAll=function(e,n){if(!t.isUndefinedAll([e,n]))for(var r=n.length,i=0;r>i;i++)e.append(n[i])},t.render=function(e,n){t.isUndefinedAll([e,n])||e&&e.append(n)},t.querySelectorID=function(e,n){return t.isDOM(e)&&n?e.id==n?e:e.querySelector("#"+n):e},t.querySelectorTag=function(e,n){return t.isDOM(e)&&n?e.tagName==n.toLocaleUpperCase()?e:e.querySelector(n):e},t.isString=function(e){return"s"==(typeof e)[0]},t.bindAllEvent=function(e,n,r){for(var i=e&&e.length||0,o=0;i>o;o++)t.bindEvent(e[o],n,r)},t.EMPTY_FUNCTION=function(){e.console.log(arguments)},t.debounce=function(e,n){var t=null;return n=n||500,function(r){var i=this;t&&clearTimeout(t),t=setTimeout(function(){e&&e(r,i)},n)}},t.AdditiveDebounce=function(){var n=null;return function(t,r,i){e.clearTimeout(n),n=e.setTimeout(t,r+i)}}(),t.constructAsKeyValue=function(e){if(!t.isUndefined(e)){for(var n=[],r=0,i=e.length;i>r;r++)n.push({key:r,value:e[r]});return n}},t.removeChildren=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},t.constructID=function(e,n){if(!t.isUndefined(e)){n=n||r;for(var i=t.isUndefined(e[0])?e:e[0],o=1,u=e.length;u>o;o++)!t.isUndefined(e[o])&&(i+=n+e[o]);return i}},t.separateID=function(e,n){return n=n||r,t.isUndefined(e)?void 0:(e+"").split(r).filter(Boolean)},t.unionObject=function(e){if(!t.isUndefined(e)){for(var n=t.createPureObject(),r=0,i=e.length;i>r;r++){var o=e[r];for(var u in o)n[u]=o[u]}return n}},t.readCookie=function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){var i=t[r].trim();if(0===i.indexOf(n))return i.substring(n.length)}},t.escapeSpecialCharacters=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").replace(/\"/g,"&quot;"):e},t.unEscapeSpecialCharacters=function(e){return e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&quot;/g,'"'):e},t.isAlphaNumeric=function(e){if(!t.isUndefined(e)){var n,r,i;for(r=0,i=e.length;i>r;r++)if(n=e.charCodeAt(r),!(n>47&&58>n||n>64&&91>n||n>96&&123>n))return!1;return!0}},t.rangeObj=function(e,n,r){arguments.length<2&&(n=e,e=0);for(var i=t.createPureObject(),o=e;n>o;o++)i[o]=r;return i},t.range=function(e,n){arguments.length<2&&(n=e,e=0);for(var t=[],r=e;n>r;r++)t.push(r);return t},t.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)})},t.addNonEnumerable=function(e,n,t){Object.defineProperty(e,n,{value:t,enumerable:!1,writable:!0,configurable:!0})},t.insertIntoArray=function(e,n,t,r){r=r||0,e.splice.apply(e,[t,r].concat(n))},t.paddingArray=function(e,n){if(!t.isUndefinedAll([e,n])){var r=e.length;if(r===n)return;if(r>n)return void(e.length=n);for(var i=n-r;i--;)e.push("")}},t.getElementFromEvent=function(e){return e.srcElement||e.target},t.measureTextWidth=function(e,n){var r=t.measureTextWidth.canvas||(t.measureTextWidth.canvas=document.createElement("canvas")),i=r.getContext("2d");i.font=n;var o=i.measureText(e);return o.width},t.getCenter=function(e){var n=$(window).height(),t=$(window).width(),r=t/2-$(e).width()/2+$(window).scrollLeft(),i=n/2-$(e).height()/2+$(window).scrollTop();return{x:r,y:i}},t.sort=function(){},t.isNull=function(){},t.isChild=function(){},t.isParent=function(){},t.hasClass=function(){},t.isVisible=function(){},t.escapeString=function(){},t.binarySearch=function(){},t.removeAllEvent=function(){},t.escapeString=function(){},t.removeAllEvent=function(){},t.binarySearch=function(){},t.getFileProperties=function(){},t.getAllKeysFromObject=function(){},t.getFileProperties=function(){},t.getAllKeysFromObject=function(){}}(this);!function(o){var r={},n=Object.create(null);n.log="background:grey;color:white;",n.warn="background:orange;color:white;",n.error="background:red;color:white;";var c=function(){};r.log=function(o){c("%c "+o+" ",n.log)},r.warn=function(o){c("%c "+o+" ",n.warn)},r.error=function(o){c("%c "+o+" ",n.error)},r.prototype={set enable(o){c=o?function(){}:function(){}}},o.logger=r}(this);!function(e){var E=e.module,A=E.getModule("SA/UI/Constants"),_=E.getModule("SA/UI/Constants/ClassNames"),a=E.getModule("SA/UI/Constants/TemplateConstants"),T=E.getModule("SA/UI/Component/Tab/Constants"),r=E.getModule("SA/UI/Component/FillMissingValue/Constants"),R=E.getModule("SA/UI/Component/Search/Constants"),t=E.getModule("SA/ThirdParty/Handson/Constants"),I=E.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),o=E.getModule("SA/UI/Constants/ClusterConstants"),C=E.getModule("SA/UI/Constants/RefineConstants"),O=E.getModule("SA/UI/Constants/BannerConstants"),S=E.getModule("SA/Common/Constants/ImportErrorConstants"),L=E.getModule("SA/UI/Constants/SidebarConstants");L.NORMAL_SELECT=1,L.TOKEN_SELECT=2,L.OPERATION_SELECT_ONLY=3,S.SKIP_ROW=1,S.BLANK_VALUE=2,O.SUCCESS=1,O.ERROR=2,O.WARNING=3,O.INFO=4,C.CLUSTER="CLUSTER",C.MISSING_VALUE="MISSING_VALUE",C.SPLIT_COLUMN="SPLIT_COLUMN",C.MERGE_COLUMN="MERGE_COLUMN",C.SPLIT_ADDRESS="SPLIT_ADDRESS",C.COLUMN_SUMMARY="COLUMN_SUMMARY",o.CHARACTER_SIMILARITY=1,o.PHONETICS=2,o.EDIT_DISTANCE=3,o.COMBINED=0,o.DEFAULT_ALGORITHM=o.COMBINED,I.CLUSTER=1,I.SPLIT_COLUMNS=2,I.DEDUPLICATE=3,I.MERGE=4,I.DEFAULT_GRID_TYPE=I.CLUSTER,I.ADDRESS_SPLIT=5,I.COLUMN_SUMMARY=6,I.TABLE_SUMMARY=7,t.SEPARATOR="hsep",t.SUBMENU="submenu",t.SEPARATOR_VALUE="--------",R.PREV=1,R.NEXT=2,r.DEFAULT_VALUE=1,r.FILL_PREVIOUS_VALUE=2,r.REMOVE_BLANKS=3,r.AVERAGE=4,r.MAX_OCCUR=5,A.DEFAULT_BANNER_TIMEOUT=1e4,A.READ_ONLY=1,A.READ_AND_WRITE=2,A.DEFAULT_ACTION_BANNER_TIMEOUT=4e3,A.DEFAULT_ACTION_BANNER_LAYOUT=!0,T.LEFT=1,T.RIGHT=2,_.IMPORT_CHAMBER="ImportChamber",_.SIDENAV_COMPONENT="SideNavComponent",_.URL_PORTAL="URLPortal",_.FILE_PORTAL="FilePortal",_.CLOUD_PORTAL="CloudPortal",_.TOP_BAND="TopBand",_.ACTION_BUTTON="ActionButton",_.HOME_CHAMBER="HomeChamber",_.PROGRESS_LOADER="ProgressLoader",_.BANNER="Banner",_.NAVIGATOR="Navigator",_.QUICKMENU="QuickMenu",_.SELECT_MENU="SeletMenu",_.REFINE_SIDEBAR="RefineSidebar",_.SIDEBAR_HEADER="SidebarHeader",_.CLUSTER_HEADER="ClusterHeader",_.FILL_MISSING_VALUE="FillMissingValue",_.SPLIT_COLUMNS="SplitColumns",_.SEARCHUI_COMPONENT="SearchComponent",_.TABLE_SELECT_MENU="TableSelect",_.HEADER_SELECT_MENU="HeaderSelect",_.FILTER_UI="FilterUI",_.FILTER_WIDGET="FilterWidget",_.HANDSON="Handson",_.DATA_GRID="DataGrid",_.REFINE_COMPONENT="RefineComponent",_.EXPORT_BUTTON="ExportUI",_.DC_BUTTON="DCButton",_.DEDUPE_BUTTON="DeDupeButton",_.TAB_MENU="TabMenu",_.TAB="Tabs",_.TIMEZONE_MENU="TimeZoneMenu",_.SIDEBAR_FOOTER="RefineSidebarFooter",_.VIEW_INSTANCE="ViewInstance",_.SIDEBAR_GRID="SidebarGrid",_.SIDEBAR_MESSAGE="SidebarMessage",_.APP_ACTION_BUTTON="AppActionButton",_.APP_LISTING="AppListing",_.WORK_PLACE_HEADER="WorkPlaceHeader",_.LOOK_UP_CHAMBER="LookupComponent",_.ZIA_UI="ZIA_UI",_.APP_SETTINGS="SidePanelSettings",_.SIDEBAR_OPERATIONS_HOLDER="SidebarOperationHolder",_.LOADER="Loader",_.APP="App",_.URL_DIALOG="UrlDialog",_.CLOUD_DIALOG="CloudDialog",_.CALL_OUT="CallOut",_.MODAL_WINDOW="Modal",_.MASK="Mask",_.DIALOG="Dialog",_.CREATOR_SUCCESS_DIALOG="CreatorSuccessDialog",_.FIELD_WIDGET="FieldWidget",_.TOKEN_SELECT="TokenSelect",_.COMBO_BOX="Combobox",_.CONTEXT_MENU="ContextMenu",_.DATA_GRID_LOADER="DataGridLoader",_.FIND_REPLACE_BUTTON="FindReplaceButton",_.FIND_REPLACE_WIDGET="FindReplaceWidget",_.TABLE_SETTINGS_CALL_OUT="TableSettingsCallOut",_.PREVIEW_CLUSTER="PreviewCluster",_.WORK_PLACE_CALL_OUT="WorkplaceCallout",_.TABLE_SUMMARY_TOOLBAR="TableSummaryButton",_.ROW_CUSTOMIZER="RowCustomizer",_.SHEET_DUPLICATE_COMPONENT_HOLDER="SheetDuplicateHolder",_.SHEET_FIND_UNIQUE="SheetUniqueHolder",_.CREATOR_SUMMARY="CreatorErrorSummary",_.MERGE_COLUMN_UI="MergeColumns",_.LOOKUP_CHAMBER="LookupChamber",_.UNDO="UndoUI",_.REDO="RedoUI",a.UNDO_UI="UndoButtonArea",a.REDO_UI="RedoButtonArea",a.URL_PORTAL="URLPortal",a.FILE_PORTAL="FilePortal",a.CLOUD_PORTAL="CloudPortal",a.IMPORT_CHAMBER="ImportChamber",a.SIDENAV_COMPONENT="SideNavComponent",a.TOP_BAND="TopBand",a.HOME_CHAMBER="HomeChamber",a.BANNER="Banner",a.NAVIGATOR="Navigator",a.QUICKMENU="QuickMenu",a.QUICKMENU_ITEM="QuickMenuItem",a.REFINE_SIDEBAR="RefineSidebar",a.SIDEBAR_REFINE="RefineIcon",a.SIDEBAR_SETTINGS="SettingsIcon",a.SIDEBAR_ZIA="ZiaIcon",a.SIDEBAR_TABLE_SUMMARY="TableSummaryIcon",a.SIDEBAR_HEADER="SidebarHeader",a.COLUMN_SELECT="SidebarColumnSelectArea",a.OPERATION_SELECT="SidebarOperationSelectArea",a.CLUSTER_HEADER="ClusterHeader",a.FILL_MISSING_VALUE="FillMissingValueArea",a.SPLIT_COLUMNS="SplitColumnArea",a.SEARCHUI_COMPONENT="SearchUIArea",a.TABLE_SELECT_MENU="TableSelectMenuArea",a.HEADER_SELECT_MENU="HeaderSelectMenuArea",a.FILTER_UI="FilterUIArea",a.FILTER_WIDGET="FilterWidgetArea",a.DATAGRID="DataGridArea",a.REFINE_AREA="RefineArea",a.EXPORT_BUTTON="ExportButtonArea",a.DC_BUTTON="DataCleansingButtonArea",a.DEDUPE_BUTTON="DuplicateButtonArea",a.TAB_MENU_ITEM="TabMenuItemsArea",a.TAB_MENU="TabMenuHolderArea",a.TAB="TabArea",a.TIMEZONE_MENU="TimeZoneMenuArea",a.DATA_GRID_HEADER="DataGridHeaderArea",a.CLUSTER_GRID_HEADER_CHECKBOX="ClusterGridHeaderCheckBox",a.SIDEBAR_FOOTER="SidebarFooterArea",a.SIDEBAR_GRID="sidebarGridArea",a.SIDEBAR_MESSAGE="SidebarMessageArea",a.APP_ACTION_BUTTON="AppActionButtonArea",a.WORK_PLACE_HEADER="WorkPlaceHeaderArea",a.APP_LISTING="AppListingArea",a.LOOKUP_CHAMBER="LookupChamberArea",a.ZIA_UI="ZiaArea",a.APP_SETTINGS="SidePanelSettingsArea",a.SIDEBAR_OPERATIONS_HOLDER="SidebarOperationHolderArea",a.LOADER="LoaderArea",a.APP="ListingAppArea",a.CALL_OUT="TabsPopOutArea",a.MODAL_WINDOW="ModalArea",a.MASK="MaskArea",a.DIALOG_ICON="DialogIconHolderArea",a.DIALOG_BODY="DialogContentHolderArea",a.DIALOG_FOOTER="DialogFooterArea",a.CREATOR_DIALOG_HEADER="CreatorDialogIconArea",a.CREATOR_DIALOG_BODY="CreatorDialogContentArea",a.CREATOR_DIALOG_FOOTER="CreatorDialogFooterArea",a.CREATOR_IMPORT_RECORDS="CreatorDialogImportRecords",a.FIELD_WIDGET="FieldWidgetArea",a.URL_DIALOG_BODY="UrlDialogBody",a.URL_DIALOG_HEADER="UrlDialogHeader",a.DATA_GRID_LOADER="DataGridLoaderArea",a.DEFAULT_NAVIGATION="NavigationTextArea",a.PREVIEW_CLUSTER="PreviewClusterArea",a.TABLE_SETTINGS_CALL_OUT="TableSettingsArea",a.FIND_REPLACE_WIDGET="FindAndReplaceArea",a.FIND_REPLACE_BUTTON="FindReplaceButtonArea",a.WORK_PLACE_CALL_OUT="WorkPlaceCallOutArea",a.CREATOR_SUMMARY="CreatorErrorSummaryArea",a.FIELD_WIDGET_ICON_DROPDOWN="FieldWidgetIconicDropDownArea",a.COLUMN_TOKEN_SELECT="SidebarColumnTokenSelectArea",a.CONTEXT_MENU_AREA="GridContextMenuArea",a.DESCRIPTIVE_SELECTMENU="DescriptiveSelectMenu",a.MERGE_COLUMN_AREA="MergeColumnArea",a.FILTER_PANEL_AREA="FilterPanelArea",a.COLUMN_SUMMARY_CELL="ColumnSummeryCell",a.SHEET_DUPLICATE_COMPONENT_HOLDER="SheetDuplicateHolderArea",a.SHEET_FIND_UNIQUE="SheetDuplicateHolderArea",a.ROW_CUSTOMIZER="RowCustomizerArea",a.TABLE_SUMMARY_TOOLBAR="TableSummaryButtonArea"}(this);!function(e){var A=e.module,t=A.getModule("SA/Model/Constants/ClassNames"),a=A.getModule("SA/Model/Constants/TemplateConstants"),C=A.getModule("SA/Model/Constants");C.DEFAULT_HEADER_INDEX=0,C.CHUNK_SIZE=6e3,C.COLUMN=SA_EN.Preview.Grid.ColumnName,t.FILTER_MODAL="FilterModel",t.REQUEST="Request",t.REQUEST_MANAGER="RequestManager",t.PARALLEL_REQUEST_MANAGER="ParallelRequestManager",t.COLUMN_SUMMARY="ColumnSummary",t.TABLE_SUMMARY="TableSummary",t.ADDRESS_STANDARDIZE_MODEL="AddressStandardizeModel",t.APP_INSTANCE="AppInstance",t.DATA_INSTANCE="DataInstance",t.CLUSTER_MODEL_INSTANCE="ClusterModelInstance",t.CLUSTER_GRID_MODEL_INSTANCE="ClusterGridModel",t.DATA_GRID_CELL="DataGridCell",t.COLUMN_META_INSTANCE="ColumnMetaInstance",t.CONDITIONAL_FORMAT="ConditionalFormat",t.DATA_INSTANCE="DataInstance2",a.CLUSTER_GROUP="ClusterGridGroupArea",a.CLUSTER_INPUT_BOX="ClusterGridInputBoxArea",a.CLUSTER_CHECK_BOX="ClusterGridCheckBoxArea",a.LAST_CLUSTER="ClusterGridLastClusterArea"}(this);!function(e){function t(e){return e.content.cloneNode(!0).firstElementChild}var n=e.module,o=n.getModule("SA/Common/Template"),l={};o.getTemplate=function(e){if(null!==e){var n=l[e];return n||(l[e]=document.getElementById(e),n=l[e]),t(n)}}}(this);!function(e){var t=e.module,n=t.getModule("SA/UI/Registry"),o=t.getModule("SA/Common/Utils"),u=t.getModule("SA/UI/Class"),r=o.createPureObject();n.register=function(e,t){r[e]=t},n.getComponent=function(e,t,n){return!r[e]&&(r[e]=new u[e](t)),n&&r[e].setDependency(n),r[e]},n.DB=r}(this);!function(t){function e(){}function i(t){if(!n.isUndefined(t)){for(var e=t.length,i=0;e>i;i++){var s=d(t[i],this.holder);s.renderOnly()}this.dependency=null}}var s=t.module,n=s.getModule("SA/Common/Utils"),h=s.getModule("SA/Common/Template").getTemplate,d=s.getModule("SA/UI/Registry").getComponent;e.prototype={construct:function(t){(!this.constructed||t)&&(this.dom=h(this.TEMPLATE),this.constructed=!0,this.cacheElements&&this.cacheElements(),this.bindEvents&&this.bindEvents(),this.setLabel())},setLabel:function(){},show:function(){if(!this.attached){this.render();var t=this.showCallBack;return void(t&&t.call(this))}if(this.constructed){!this.display&&n.show(this.dom),this.display=!0;var t=this.showCallBack;t&&t.call(this)}},hide:function(){if(this.constructed){this.display&&n.hide(this.dom),this.display=!1;var t=this.hideCallBack;t&&t.call(this)}},setHolder:function(t){this.holder=t},setDependency:function(t){n.isUndefined(t)||(this.dependency=t)},render:function(t){t&&(this.holder=t),this.dependency&&i.call(this,this.dependency),!this.constructed&&this.construct();var e=this.holder;e&&e.append(this.dom),this.attached=this.display=!0;var s=this.afterRender;s&&s.call(this)},renderOnly:function(){if(this.constructed){if(this.attached&&this.display)return;var t=this.holder,e=this.dom;e&&t&&(n.hide(e),t.append(e),this.attached=!0,this.display=!1)}},disable:function(){},enable:function(){},destroy:function(){this.constructed&&(this.dom&&this.dom.remove(),this.removeEvents&&this.removeEvents(),this.attached=!1)}},s.extend(s.getModule("SA/UI/Class"),"UIComponent",e)}(this);!function(e){var i=e.module,n=i.getModule("SA/Service"),t=(i.getModule("SA/Common/Constants"),i.getModule("SA/UI/Constants/ClusterConstants")),a=i.getModule("SA/Common/Constants/OperationConstants"),r=e.ZSConstants.I18N;a.CLUSTER=1,a.MISSING_VALUE=2,a.DUPLICATE=3,a.FIND_UNIQUE=4,n.isSheet=!0,n.getSidebarClusterGridWidth=function(){return[30,170,134]},n.getSupportedClusterAlgorithm=function(){return[{key:t.CHARACTER_SIMILARITY,value:"Character Similarity",label:SA_EN.Preview.Sidebar.FixMisspeling.CharacterSimilarity}]},n.getSidebarMenuList=function(){return[{id:"REFINE",label:SA_EN.Preview.Sidebar.Menu.Refine}]},n.getSidebarHeaderElements=function(){return["OPERATION_SELECT","COLUMN_SELECT"]},n.getSidebarOperationList=function(){return[{value:r["SidePanel.DataCleaning.FixSpelling"]||"Fix Misspelings",key:a.CLUSTER,desc:SA_EN.Preview.Sidebar.Header.Description.FixMisspeling},{value:r["SidePanel.DataCleaning.FixMissing"]||"Fix Missing values",key:a.MISSING_VALUE,desc:SA_EN.Preview.Sidebar.Header.Description.FixMissing},{value:r["SidePanel.DataCleaning.Duplicates"]||"Find Duplicates",key:a.DUPLICATE,desc:SA_EN.Preview.Sidebar.Header.Description.FindDuplicates},{value:r["SidePanel.DataCleaning.FindUnique"]||"Find Uniques",key:a.FIND_UNIQUE,desc:SA_EN.Preview.Sidebar.Header.Description.FindUnique}]}}(this);!function(n){function t(n,t){this.holder=n,this.options=h.createPureObject(),this.handsonInstance=null,this.options=s(),h.mixIn(this.options,t),this.options.menu&&(this.options.dropdownMenu=o(this.options.menu)),this.constructHandsonInstance()}function e(n){Handsontable.hooks.add("beforeKeyDown",function(n){if((!n.path||"text"!=n.path[0].type)&&n){var t=n.ctrlKey,e=n.keyCode||n.which;t&&(n.stopImmediatePropagation(),n.preventDefault()),(8==e||46==e)&&(n.stopImmediatePropagation(),n.preventDefault())}},n)}function s(){return{LicenseKey:"58bd3-0eb6b-898ef-43991-b2b2",copyPaste:!1,fillHandle:!1,colWidths:180,renderAllRows:!1,stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,visibleRows:20,rowHeaders:!0,colHeaders:!0,search:!0,undo:!1,editor:!1}}function a(n,t,e,s,a){for(var o,i=t;e>=i;i++)o=n[i],a(o.r,o.c,"className",s)}function o(n){for(var t,e,s=0,a=n.length||0,o=0,l=0,h={};a>s;s++)if(t=n[s],t.separator)h[r.SEPARATOR+l]=r.SEPARATOR_VALUE;else if(e=t.name,e&&(h[e]={})&&(h[e].name=e),t.callback&&(h[e].callback=t.callback),t.submenu){var c=r.SUBMENU+o;h[e].submenu={},h[e].submenu.items=i(t.submenu,c),h[e].key=c,o++}return{items:h}}function i(n,t){for(var e,s=[],a=n.length||0,o=0;a>o;o++)e=n[o],s.push({name:e.name,key:t+":"+o,callback:e.callback});return s}var l=n.module,h=l.getModule("SA/Common/Utils"),r=l.getModule("SA/ThirdParty/Handson/Constants"),c=l.getModule("SA/UI/Constants/ClassNames");t.prototype={removeSelection:function(){this.handsonInstance&&this.handsonInstance.deselectCell()},constructHandsonInstance:function(){this.handsonInstance=new n.Handsontable(this.holder,this.options),e(this.handsonInstance)},render:function(){var n=this.handsonInstance;n&&n.render()},updateConfiguration:function(n,t){var e=this.options;for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);!t&&this.updateSetting()},loadData:function(n){var t=this.handsonInstance;t&&t.loadData(n),n&&n.length},updateSetting:function(){var n=this.handsonInstance;n&&n.updateSettings(this.options)},highlightCells:function(n){var t=this.handsonInstance,e=n.length,s=0;if(t){var o=t.setCellMeta,i=Math.floor((s+(e-s))/2);a(n,s,i,"highlightCells",t.setCellMeta),a(n,i+1,e,"highlightCells",t.setCellMeta);for(var l=0;e>l;l++)o(n[0],n[1],"className","highlightCells")}},highlightCell:function(n,t,e,s){if(t>-1){var a=this.handsonInstance,o=a.setCellMeta;o(n,t,"className",e),s||this.render()}},removeHiglightCell:function(n,t,e,s){if(t>-1){var a=this.handsonInstance,o=a.setCellMeta;o(n,t,"className",""),s||this.render()}},removeHighlightColumn:function(n,t){var e,s=this.handsonInstance;if(s){e=s.countRows();for(var a=s.setCellMeta,o=0;e>o;o++)a(o,n,"className","");this.highlightedColumn=n,t||this.render()}},selectCell:function(n,t){var e=this.handsonInstance;e&&(e.selectCell(n,t),e.scrollViewportTo(n,t,!1,!0))},highlightColumns:function(n,t,e){var s,a=this.handsonInstance;if(t=t||"highlightColumn",a){s=a.countRows();for(var o=a.setCellMeta,i=0,l=n.length;l>i;i++)for(var h=n[i],r=0;s>r;r++)o(r,h,"className",t)}e||this.render()},highlightColumn:function(n,t,e){if(h.isUndefined(this.highlightedColumn)||this.removeHighlightColumn(this.highlightedColumn,!0),n>-1){var s,a=this.handsonInstance;if(t=t||"highlightColumn",a){s=a.countRows();for(var o=a.setCellMeta,i=0;s>i;i++)o(i,n,"className",t);this.highlightedColumn=n}}e||this.render(),a&&a.selectCell(0,+n)},setHeader:function(n,t){var e=this.handsonInstance;e&&(e.updateSettings({colHeaders:n}),t||this.render())},setNestedHeader:function(n,t){var e=this.handsonInstance;e&&(e.updateSettings({colHeaders:!0,nestedHeaders:n}),t||this.render())},clear:function(){var n=this.handsonInstance;n&&n.loadData([[]])},addHooks:function(t,e){var s=this.handsonInstance;s&&n.Handsontable.hooks.add(t,e,s)},scrollViewPortTo:function(n,t){var e=this.handsonInstance;e&&e.scrollViewportTo(n,t)}},l.extend(l.getModule("SA/UI/Class"),c.HANDSON,t)}(this);!function(e){var t=e.module,s=t.getModule("SA/Request/SheetRequest");s.postMessage=function(e,t){var s=new CustomEvent(e,t);window.dispatchEvent(s)}}(this);!function(e){function t(e,t,n,o,s){return this.element=e,e.setAttribute("data-ctype","zselectbox"),"custom"==o?(this.element.setAttribute("data-content-type","custom"),this._component=i(this.element).zselectbox({dataSource:s,change:t}),void(this.zohocomponent=!0)):(i(e).zselectbox(),i(e).hide(),this.zohocomponent=!0,void(t&&i(e).bind("zselectboxchange",t)))}function n(e){if(!s.isUndefined(e)&&e.length){for(var t=document.createDocumentFragment(),n=0,o=e.length;o>n;n++){var i=document.createElement("option");i.value=e[n].key,i.append(document.createTextNode(e[n].value)),t.append(i)}return t}return null}var o=e.module,s=o.getModule("SA/Common/Utils"),i=(o.getModule("SA/Common/Template").getTemplate,e.$);t.prototype={show:function(){s.show(this.element)},hide:function(){s.hide(this.element)},enable:function(){i(this.element).zselectbox("setAttribute","disabled",!1)},disable:function(){i(this.element).zselectbox("setAttribute","disabled",!0)},set value(e){i(this.element).zselectbox("setValue",e)},get value(){return i(this.element).zselectbox("getValue")},refresh:function(){i(this.element).zselectbox("refresh")},destroy:function(){s.removeChildren(this.element),i(this.element).zselectbox("destroy")},open:function(){i(this.element).zselectbox("open")},setValueChange:function(e){this.value=e,i(this.element).trigger("zselectboxchange",{value:e})},close:function(){i(this.element).zselectbox("close")}},t.constructFromData=function(e,o,i){var c=o.data;if(!s.isUndefined(c)&&c.length){var l=n(c);e.appendChild(l);var u=new t(e,o.handler,i);return u.value=c[0].key,u}},t.constructFromDOM=function(e,n,o,i){if(!s.isUndefined(e)){var c=new t(e,n,i);return c}},t.constructFromDataSource=function(e,n,o,i){return s.isUndefinedAll([e,n])?void 0:new t(e,o,i,"custom",n)},o.extend(o.getModule("SA/UI/Class"),o.getModule("SA/UI/Constants/ClassNames").SELECT_MENU,t)}(this);!function(e){function t(e){this.holder=e,this.TEMPLATE=o.getModule("SA/UI/Constants/TemplateConstants").SHEET_DUPLICATE_COMPONENT_HOLDER,this.construct()}var o=e.module,n=o.getModule("SA/Common/Utils"),s=o.getModule("SA/UI/Constants/ClassNames"),C=o.getModule("SA/Controller/UIActionMapper"),l=o.getModule("SA/Request/Constants"),u=o.getModule("SA/UI/Constants/MenuScope");e.currentScope=null,t.prototype={afterRender:function(){C.fireCustomEvent(l.DC_DUPLICATE_VIEW_RENDER,{detail:{curentScope:u.scope}})},showCallBack:function(){C.fireCustomEvent(l.DC_DUPLICATE_VIEW_OPEN,{detail:{curentScope:u.scope}})},hideCallBack:function(){C.fireCustomEvent(l.DC_DUPLICATE_VIEW_CLOSE,{detail:{curentScope:u.scope}})}},n.extend(t.prototype,o.getModule("SA/UI/Class/UIComponent").prototype),o.extend(o.getModule("SA/UI/Class"),s.SHEET_DUPLICATE_COMPONENT_HOLDER,t)}(this);!function(t){function e(t){this.holder=t,this.TEMPLATE=o.getModule("SA/UI/Constants/TemplateConstants").SHEET_FIND_UNIQUE,this.construct()}var o=t.module,n=o.getModule("SA/Common/Utils"),s=o.getModule("SA/UI/Constants/ClassNames"),E=o.getModule("SA/Controller/UIActionMapper"),l=o.getModule("SA/Request/Constants");e.prototype={afterRender:function(){E.fireCustomEvent(l.DC_UNIQUE_VIEW_RENDER)},showCallBack:function(){E.fireCustomEvent(l.DC_UNIQUE_VIEW_OPEN)},hideCallBack:function(){E.fireCustomEvent(l.DC_UNIQUE_VIEW_CLOSE)}},n.extend(e.prototype,o.getModule("SA/UI/Class/UIComponent").prototype),o.extend(o.getModule("SA/UI/Class"),s.SHEET_FIND_UNIQUE,e)}(this);!function(e){var t=e.module,n=t.getModule("SA/UI/View/Controller"),r=t.getModule("SA/UI/View/Config"),u=t.getModule("SA/Common/Utils"),i=t.getModule("SA/UI/Class"),I=t.getModule("SA/UI/Constants/ClassNames"),E=t.getModule("SA/UI/View/Constants"),f=1;E.REFINE_SIDEBAR_VIEW=f++,E.SIDEBAR_VIEW=f++,E.REFINE=f++,E.CLUSTER=f++,E.FILL_MISSING_VALUES=f++,E.SIDEBAR_ERROR=f++,E.DEDUPLICATE=f++,E.FIND_UNIQUE=f++,e._buffer=u.createPureObject(),n.init=function(e){_buffer[E.SIDEBAR_VIEW]=new i[I.VIEW_INSTANCE](r.getDataCleansingConfigurations(e)),_buffer[E.REFINE]=new i[I.VIEW_INSTANCE](r.getRefineViewConfigurations(e))},n.getSheetAppSidebarView=function(){return _buffer[E.SIDEBAR_VIEW]},n.getRefineView=function(){return _buffer[E.REFINE]},n.hideAll=function(){for(var e in _buffer){var t=_buffer[e];t.current&&(t.hide(t.current),t.current=null)}}}(this);!function(t){function n(t){this.current=null,this.config=t}function i(t){for(var n=0;n<t.length;n++)t[n].component.show()}function e(t){for(var n=0;n<t.length;n++)t[n].component.hide()}var o=t.module,s=o.getModule("SA/UI/Class"),c=o.getModule("SA/Common/Utils"),r=o.getModule("SA/UI/Constants/ClassNames");n.prototype={set mode(t){this.show(t)},show:function(t,n){(this.current!=t||n)&&(!c.isUndefined(this.current)&&this.hide(this.current),c.isUndefinedAll([t,this.config[t]])||(i(this.config[t]),this.current=t))},hide:function(t){c.isUndefinedAll([t,this.config[t]])||e(this.config[t])},getCurrentView:function(){return this.current}},o.extend(s,r.VIEW_INSTANCE,n)}(this);!function(e){function t(e){this.holder=e,this.TEMPLATE=r.getModule("SA/UI/Constants/TemplateConstants").REFINE_AREA,this.dom=null,this.display=!1,this.constructed=!1,this.attached=!1,this.cache=a.createPureObject(),this.construct()}var r=e.module,a=r.getModule("SA/Common/Utils"),o=r.getModule("SA/Service");t.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;e.toolBarArea=a.querySelectorID(t,"RefineToolBar"),e.tabsArea=a.querySelectorID(t,"RefineTabs"),e.playArea=a.querySelectorID(t,"RefinePlayGround"),e.sidepanelArea=a.querySelectorID(t,"SidePanelHolder")}},afterRender:function(){o.isSheet&&this.sheetMode()},getToolBarArea:function(){var e=this.cache;return e&&e.toolBarArea},sheetMode:function(){if(this.constructed){var e=this.cache;e.tabsArea.remove(),e.toolBarArea.remove()}},getTabsArea:function(){var e=this.cache;return e&&e.tabsArea},getPlayArea:function(){var e=this.cache;return e&&e.playArea},getSidePanelHolder:function(){var e=this.cache;return e&&e.sidepanelArea}},a.extend(t.prototype,r.getModule("SA/UI/Class/UIComponent").prototype),r.extend(r.getModule("SA/UI/Class"),r.getModule("SA/UI/Constants/ClassNames").REFINE_COMPONENT,t)}(this);!function(e){function t(e){this.holder=e,this.TEMPLATE=a.CLUSTER_HEADER,this.dom=null,this.cache=n.createPureObject(),this.constructed=!1,this.display=!1,this.algoSelectMenu=null,this.construct()}function o(e,t){if(e&&t){var o=t.item||t,l=o.value;l=l,h.runClusterAction(void 0,void 0,void 0,l)}}var l=e.module,n=l.getModule("SA/Common/Utils"),s=l.getModule("SA/Service"),i=l.getModule("SA/UI/Class"),u=l.getModule("SA/UI/Class/UIComponent"),c=l.getModule("SA/UI/Constants/ClassNames"),a=l.getModule("SA/UI/Constants/TemplateConstants"),r=(l.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),l.getModule("SA/Common/Template").getTemplate),h=l.getModule("SA/Controller/UIActionMapper"),d=l.getModule("SA/UI/Constants/ClusterConstants");t.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;if(n.isUndefined(t))return;e.algoSelect=n.querySelectorID(t,"ClusterAlgoSelect")}},setLabel:function(){this.constructed&&this.dom&&n.setLabel(n.querySelectorID(this.dom,"label"),SA_EN.Preview.Sidebar.FixMisspeling.Header)},setupAlgoSelectMenu:function(){if(this.constructed){var e=this.cache,t=e.algoSelect;if(!n.isUndefined(t)){var l=s.getSupportedClusterAlgorithm();this.algoSelectMenu=i[c.SELECT_MENU].constructFromData(t,{data:l,handler:o},void 0),this.algoSelectMenu.value=d.DEFAULT_ALGORITHM,1==l.length?(this.algoSelectMenu.value=l[0].key,this.singleAlgo=!0,this.hide()):(this.singleAlgo=!1,this.show())}}},showAlgoMenu:function(){this.algoSelectMenu&&this.algoSelectMenu.show()},hideAlgoMenu:function(){this.algoSelectMenu&&this.algoSelectMenu.hide()},showCallBack:function(e){this.singleAlgo&&this.hide(),logger.log("remove hideoption in cluster UI"),!e&&this.hide()},_show:function(){n.show(this.dom),this.display=!0},getSelectedAlgorithm:function(){var e=this.algoSelectMenu;return n.isUndefined(e)?void 0:e.value},afterRender:function(){},setClusterMenuValue:function(e,t){null!=this.algoSelectMenu&&(t?this.algoSelectMenu.setValueChange(e):this.algoSelectMenu.value=e)},getClusterMenuValue:function(){return this.constructed&&this.algoSelectMenu?+this.algoSelectMenu.value:d.DEFAULT_ALGORITHM}},t.constructReplaceAllCheckBox=function(e){logger.log("discuss about cluster checked state");var t=r(a.CLUSTER_GRID_HEADER_CHECKBOX),o=t.querySelector("input");return e?o.setAttribute("checked",e):o.removeAttribute("checked"),t.innerHTML.trim()},n.extend(t.prototype,u.prototype),l.extend(l.getModule("SA/UI/Class"),c.CLUSTER_HEADER,t)}(this);!function(t){function e(t,e,c,i,o,s,n){this.sid=t,this.tid=e,this.ingoredRows=u.createPureObject(),this.clusterInstance=new a[l.CLUSTER_MODEL_INSTANCE](t,e,c,i,o,s,n),r.call(this,this.clusterInstance,s,n)}function r(t,e,r){var s={value:h(d.LAST_CLUSTER),toString:function(){return this.value.innerHTML.trim()}};this.data=[];var n,a,u,l=0,g=!1,p=t.getClusterCells();for(var S in p){var v=p[S].groups,C=p[S].groupCount-1;g=e||r-->0;for(var f in v){var m=v[f];f==C?n=a=s:0==f?(n=new c(p[S].replaceBy,l),a=new i(g,l)):n=a="",u=new o(m.value,m.rowIDs.length,g,l,f==C),this.data.push({clusterId:+f,groupId:+S,clusterDiv:u,checkBox:a,inputBox:n}),++l}}}function c(t,e){this.dom=h(d.CLUSTER_INPUT_BOX),this.cache=u.createPureObject(),this.cache.inputBox=this.dom.querySelector("input"),this.cache.inputBox.id=u.constructID(["gi",e]),this.value=t}function i(t,e){this.dom=h(d.CLUSTER_CHECK_BOX),this.cache=u.createPureObject(),this.cache.checkBox=this.dom.querySelector("input");var r=u.constructID(["gc",e]);this.cache.checkBox.id=r,this.cache.label=this.dom.querySelector("label"),this.cache.label.setAttribute("for",r),this.value=t}function o(t,e,r,c,i){this.dom=h(d.CLUSTER_GROUP),this.cache=u.createPureObject(),this.cache.checkBox=this.dom.querySelector("input"),this.cache.cholder=this.dom.querySelector("#cholder"),s.call(this,t,e,c,i),this.value=r}function s(t,e,r,c){var i=this.dom,o=u.constructID(["ggi",r]),s=u.constructID(["gga",r]);if(i){var n=i.querySelector("input"),a=i.querySelector(".textContent"),h=i.querySelector("a");n.setAttribute("id",o),h.setAttribute("id",s),a.setAttribute("title",t),a.setAttribute("id",u.constructID(["ggc",r])),h.textContent="("+e+")",a.textContent=t,c&&u.addClass(i.querySelector(".cgarea"),"lastCluster")}}var n=t.module,a=n.getModule("SA/Model/Class"),u=n.getModule("SA/Common/Utils"),h=n.getModule("SA/Common/Template").getTemplate,l=n.getModule("SA/Model/Constants/ClassNames"),d=n.getModule("SA/Model/Constants/TemplateConstants");e.prototype={getData:function(){for(var t=this.data,e=[],r=0,c=t.length;c>r;r++){var i=t[r];e.push({group:i.clusterDiv.toString(),checked:i.checkBox.toString(),input:i.inputBox.toString()})}return this.model=e,e},setReplaceValue:function(t,e){var r=this.data[t].inputBox;r.value=e,this.model[t].input=r.toString(),this.clusterInstance.setReplaceValue(this.data[t].groupId,e)},setClusterValueCheckState:function(t,e){var r=this.data[t].clusterDiv;r.value=e,this.model[t].group=r.toString(),this.clusterInstance.setClusterCheckState(this.data[t].groupId,this.data[t].clusterId,e)},setClusterGroupCheckState:function(t,e){var r=this.data[t].checkBox;r.value=e,this.model[t].checked=r.toString(),this.clusterInstance.setCheckedState(this.data[t].groupId,e);for(var c=this.data[t].groupId;this.data[t]&&c==this.data[t].groupId;)this.setClusterValueCheckState(t,e),t++},setReplaceAllState:function(t){for(var e,r=this.data,c=0,i=r.length;i>c;c++){var o=r[c].groupId;o!=e&&(this.setClusterGroupCheckState(c,t),e=o)}},getPreviewRows:function(t){if(!u.isUndefined(t)){var e=this.data[t].groupId,r=this.data[t].clusterId;return this.clusterInstance.getRows(e,r)}},getCount:function(){return this.clusterInstance.getCount()}},c.prototype={set value(t){var e=this.cache;e.inputBox.setAttribute("value",t)},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},i.prototype={set value(t){var e=this.cache;t&&e.checkBox.setAttribute("checked",t),!t&&e.checkBox.removeAttribute("checked")},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},o.prototype={set value(t){var e=this.cache;t&&e.checkBox.setAttribute("checked",t),!t&&e.checkBox.removeAttribute("checked"),!t&&u.addClass(e.cholder,"disabled"),t&&u.removeClass(e.cholder,"disabled")},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},n.extend(a,l.CLUSTER_GRID_MODEL_INSTANCE,e)}(this);!function(e){function t(e,t,s,u,o,n,i){this.sid=e,this.tid=t,this.col=s,this.level=u,r.call(this,o,n,i)}function s(){logger.error("Cluster payload should properly encode");var e,t=this.clusters,s=[];for(var r in t){var u=t[r];if(u.checked){var o=c.createPureObject(),n=u.replaceBy;o.value=n,o.rowsId=[];var i=u.groups;e=!1;for(var l in i)i[l].checked&&n!=i[l].value&&(e=!0,o.rowsId=o.rowsId.concat(i[l].rowIDs));e&&s.push(o)}}return s}function r(e,t,s){this.clusters=c.createPureObject();var r=!1;if(!c.isUndefined(e)){for(var o=0,n=e.length;n>o;o++)r=t||s-->0,this.clusters[o]=new u(o,e[o],r);this.count=o}}function u(e,t,s){this.replaceBy=null,this.groupCount=null,this.checked=!0,this.groupId=e,this.groups=c.createPureObject(),o.call(this,t,s)}function o(e,t){for(var s=0,r=0,u=0,o=e.length;o>u;u++){var n=e[u],i=n.rowID;"s"==(typeof i)[0]&&(i=JSON.parse(n.rowID)),i.length>s&&(s=i.length,r=u),this.groups[u]=c.createPureObject(),this.groups[u].value=n.value,this.groups[u].rowIDs=i,this.groups[u].checked=t}this.replaceBy=e[r].value,this.groupCount=u}var n=e.module,i=n.getModule("SA/Model/Constants/ClassNames"),c=(n.getModule("SA/Model/Constants/TemplateConstants"),n.getModule("SA/Common/Utils")),l=n.getModule("SA/Model/Class");t.prototype={getClusterCells:function(){return this.clusters},getRows:function(e,t){if(!c.isUndefined(e,t)){var s=this.clusters[e].groups,r=s[t];return r.rowIDs}},getClusterByGroup:function(e){var t=this.clusters[e];return c.isUndefined(t)?void 0:t},setReplaceValue:function(e,t){var s=this.clusters[e];s&&s.setReplaceValue(t)},setCheckedState:function(e,t){var s=this.clusters[e];s&&s.setCheckedState(t)},getCount:function(){return this.count||0},setClusterCheckState:function(e,t,s){var r=this.clusters[e];r&&r.setClusterState(t,s)},getAsPayLoad:function(){return s.call(this)}},u.prototype={getCluster:function(e){return this.groups[e]},setReplaceValue:function(e){this.replaceBy=e},setCheckedState:function(e){this.checked=e},getClusterValue:function(e){var t=this.groups[e];return t&&t.value},setClusterState:function(e,t){var s=this.groups[e];s&&(s.checked=t)}},n.extend(l,i.CLUSTER_MODEL_INSTANCE,t)}(this);!function(e){function t(e){this.holder=e,this.constructed=!1,this.display=!1,this.cache=l.createPureObject(),this.dom=null,this.TEMPLATE=o.FILL_MISSING_VALUE,this.val=null,this.construct()}function i(){h.showEmptyRecords()}function s(e){var t=this.cache;this.showAll(),"EMPTY"==e?(l.hide(t.replaceWithPreviousValue.closest("div")),l.hide(t.maxOccurence.closest("div")),l.hide(t.average.closest("div"))):("TEXT"==e||"DATE"==e)&&l.hide(t.average.closest("div"))}function a(e,t){return function(){t.val=e,e==u.DEFAULT_VALUE&&t.cache.inputBox.focus()}}var c=e.module,l=c.getModule("SA/Common/Utils"),o=c.getModule("SA/UI/Constants/TemplateConstants"),r=c.getModule("SA/UI/Constants/ClassNames"),n=c.getModule("SA/UI/Class/UIComponent"),u=c.getModule("SA/UI/Component/FillMissingValue/Constants"),h=c.getModule("SA/Controller/UIActionMapper");t.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;l.isUndefined(t)||(e.replaceWithDefaultValue=l.querySelectorID(t,"FillDefault"),e.replaceWithPreviousValue=l.querySelectorID(t,"FillPrevious"),e.removeBlankRows=l.querySelectorID(t,"RemoveRows"),e.inputBox=l.querySelectorID(t,"FillDefaultValue"),e.average=l.querySelectorID(t,"FillAverage"),e.maxOccurence=l.querySelectorID(t,"FillMax"),e.fillNotification=l.querySelectorID(t,"FillMissingNotification"))}},setLabel:function(){if(this.constructed&&this.dom){var e=this.dom;l.setLabel(l.querySelectorID(e,"FHeader"),SA_EN.Preview.Sidebar.FixMissing.Label),l.setLabel(l.querySelectorID(e,"FPrevLabel"),SA_EN.Preview.Sidebar.FixMissing.Previous),l.setLabel(l.querySelectorID(e,"FDefaultLabel"),SA_EN.Preview.Sidebar.FixMissing.Default),l.setLabel(l.querySelectorID(e,"FRmveLabel"),SA_EN.Preview.Sidebar.FixMissing.Remove),l.setLabel(l.querySelectorID(e,"FMaxLabel"),SA_EN.Preview.Sidebar.FixMissing.Max),l.setLabel(l.querySelectorID(e,"FAvgLabel"),SA_EN.Preview.Sidebar.FixMissing.Average)}},hideRadio:function(e){if(this.constructed){var t=this.cache;switch(e){case u.DEFAULT_VALUE:l.hide(t.replaceWithDefaultValue.closest("div"));break;case u.FILL_PREVIOUS_VALUE:l.hide(t.replaceWithPreviousValue.closest("div"));break;case u.REMOVE_BLANKS:l.hide(t.removeBlankRows.closest("div"));break;case u.AVERAGE:l.hide(t.average.closest("div"));break;case u.MAX_OCCUR:l.hide(t.maxOccurence.closest("div"))}this.reset()}},setColumnCategory:function(e){s.call(this,e)},showRadio:function(e){if(this.constructed){var t=this.cache;switch(e){case u.DEFAULT_VALUE:l.show(t.replaceWithDefaultValue.closest("div"));break;case u.FILL_PREVIOUS_VALUE:l.show(t.replaceWithPreviousValue.closest("div"));break;case u.REMOVE_BLANKS:l.show(t.removeBlankRows.closest("div"));break;case u.AVERAGE:l.show(t.average.closest("div"));break;case u.MAX_OCCUR:l.show(t.maxOccurence.closest("div"))}this.reset()}},bindEvents:function(){if(this.constructed){var e=this.cache,t=this;l.bindEvent(e.replaceWithDefaultValue,"change",a(u.DEFAULT_VALUE,this)),l.bindEvent(e.replaceWithPreviousValue,"change",a(u.FILL_PREVIOUS_VALUE,this)),l.bindEvent(e.removeBlankRows,"change",a(u.REMOVE_BLANKS,this)),l.bindEvent(e.average,"change",a(u.AVERAGE,this)),l.bindEvent(e.maxOccurence,"change",a(u.MAX_OCCUR,this)),l.bindEvent(e.fillNotification,"click",i),l.bindEvent(e.inputBox,"focus",function(){e.replaceWithDefaultValue.checked=!0,t.val=u.DEFAULT_VALUE}),l.bindEvent(e.inputBox,"keyup",function(){""!=this.value.trim()&&(e.replaceWithDefaultValue.checked=!0,t.val=u.DEFAULT_VALUE)})}},reset:function(){if(this.constructed){var e=this.cache;e.replaceWithDefaultValue.checked=!1,e.replaceWithPreviousValue.checked=!0,e.removeBlankRows.checked=!1,e.inputBox.value="",e.average.checked=!1,e.maxOccurence.checked=!1,e.fillNotification.textContent=""}this.val=u.FILL_PREVIOUS_VALUE},showCallback:function(){this.reset()},getValue:function(){return this.val},getInputBoxValue:function(){if(this.val===u.DEFAULT_VALUE){var e=this.cache;if(!this.constructed)return;return e.inputBox.value||""}},showAll:function(){var e=this.cache;l.show(e.replaceWithPreviousValue.closest("div")),l.show(e.replaceWithDefaultValue.closest("div")),l.show(e.maxOccurence.closest("div")),l.show(e.average.closest("div")),l.show(e.removeBlankRows.closest("div"))},setCount:function(e){this.cache.fillNotification.textContent=e+" missing values"}},l.extend(t.prototype,n.prototype),c.extend(c.getModule("SA/UI/Class"),r.FILL_MISSING_VALUE,t)}(this);!function(t){function e(t){this.holder=t,this.actionButtons=null,this.display=!1,this.attached=!1,this.dom=null,this.TEMPLATE=n.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_FOOTER,this.cache=o.createPureObject(),this.construct()}var n=t.module,o=n.getModule("SA/Common/Utils"),i=n.getModule("SA/UI/Class"),c=n.getModule("SA/UI/Constants/ClassNames"),a=n.getModule("SA/Controller/UIActionMapper");e.prototype={cacheElements:function(){if(this.constructed){var t=this.cache,e=this.dom;t.notificationArea=o.querySelectorID(e,"infoArea"),t.refineapplyButton=o.querySelectorID(e,"RefineApplyButton"),t.applyButton=o.querySelectorID(e,"RefineButton"),t.cancelButton=o.querySelectorID(e,"RefinceCancelButton")}},setLabel:function(){if(this.constructed&&this.dom){var t=this.cache;o.setLabel(t.applyButton,SA_EN.Preview.Sidebar.Footer.PrimaryButton),o.setLabel(t.cancelButton,SA_EN.Preview.Sidebar.Footer.SecondaryButton),o.setLabel(t.refineapplyButton,SA_EN.Preview.Sidebar.Footer.RefineandApply)}},changeLabel:function(t,e){var n=this.cache;n[t].textContent=e},showButton:function(t){o.show(this.cache[t])},hideButton:function(t){o.hide(this.cache[t])},bindEvents:function(){if(this.constructed){var t=this.cache;o.bindEvent(t.applyButton,"click",a.onSidebarApplyClick),o.bindEvent(t.cancelButton,"click",a.onRefineCancelClick),o.bindEvent(t.refineapplyButton,"click",a.onRefineApplyClick)}},updateBand:function(t){var e=this.cache,n=e.notificationArea;o.isUndefined(n)||(n.textContent=t)},set message(t){t&&this.updateBand(t)}},o.extend(e.prototype,n.getModule("SA/UI/Class/UIComponent").prototype),n.extend(i,c.SIDEBAR_FOOTER,e)}(this);!function(e){function t(e,t){this.holder=e,this.config=n.createPureObject(),this.TEMPLATE=a.REFINE_SIDEBAR,this.cache=n.createPureObject(),this.dom=null,this.constructed=!1,this.attached=!1,n.mixIn(this.config,t),this.isTrayOpen=!1,this.construct()}function i(e,t){return function(){switch(e){case"REFINE":t.select(e),c.onSidePanelRefineClick();break;case"SETTINGS":t.select(e,void 0,350),c.onSidePanelSettingsClick();break;case"ZIA":c.onSidePanelZiaClick()}}}var s=e.module,n=s.getModule("SA/Common/Utils"),a=s.getModule("SA/UI/Constants/TemplateConstants"),r=s.getModule("SA/Common/Template").getTemplate,o=s.getModule("SA/UI/Class/UIComponent"),d=s.getModule("SA/Service"),l=s.getModule("SA/UI/Constants/ClassNames"),c=s.getModule("SA/Controller/UIActionMapper");t.prototype={cacheElements:function(){if(this.constructed&&this.dom){var e=this.cache,t=this.dom;e.sidebarContentArea=n.querySelectorID(t,"SidebarContentArea"),e.sidebarMenuHolder=n.querySelectorID(t,"SidebarMenuHolder"),e.sidePanelHolder=n.querySelectorID(t,"SidePanelHolder"),e.sidePanelHeading=n.querySelectorID(t,"SidePanelHeading"),e.sidePanelClose=n.querySelectorID(t,"SidePanelClose"),e.sidePanelHeaderHolder=t.querySelector(".spHdr"),this.attachDefaultOptions()}},bindEvents:function(){var e=this.cache;n.bindEvent(e.sidePanelClose,"click",c.closeSidePanel)},hideSidePanelHeader:function(){this.cache.sidePanelHeaderHolder&&n.hide(this.cache.sidePanelHeaderHolder)},showSidePanelHeader:function(){this.cache.sidePanelHeaderHolder&&n.show(this.cache.sidePanelHeaderHolder)},setHeading:function(e){var t=this.cache;t.sidePanelHeading.textContent=e},getChamber:function(){var e=this.cache;return e&&e.sidebarContentArea},attachDefaultOptions:function(){var e=d.getSidebarMenuList(),t=this.cache,s=t.sidebarMenuHolder;if(!n.isUndefined(s)){for(var o=0,l=e.length;l>o;o++){var c=r(a["SIDEBAR_"+e[o].id]);t[e[o].id]=c,n.setLabel(n.querySelectorID(c,"Label"),e[o].label),s.append(c),n.bindEvent(c,"click",i(e[o].id,this))}1==e.length&&(this.hideMenuHolder(),this.openTray())}},openTray:function(e){if(e=e||450,this.constructed){var t=this.cache,i=t.sidePanelHolder;i&&(350==e?(n.addClass(i,"sdPanelSetting"),n.removeClass(i,"sdPanelCluster")):(n.addClass(i,"sdPanelCluster"),n.removeClass(i,"sdPanelSetting")),n.show(i),i.style.width=e+"px",this.isTrayOpen=!0)}},closeTray:function(){if(this.constructed){var e=this.cache,t=e.sidePanelHolder;t&&(t.style.width="0px"),this.prev&&n.removeClass(this.prev,"active"),this.prev=null,this.isTrayOpen=!1}},hideCallBack:function(){},select:function(e,t,i){if(this.constructed&&!n.isUndefined(e)){var s=this.cache,a=s[e];this.prev&&n.removeClass(this.prev,"active");var r=!1;return a!=this.prev||t?(r=!0,this.openTray(i),n.addClass(a,"active"),this.prev=a):(this.closeTray(),this.prev=null),r}},toggleTray:function(e){this.isTrayOpen?this.closeTray(e):this.openTray(e),this.isTrayOpen=!this.isTrayOpen},hideMenuHolder:function(){if(this.constructed){var e=this.cache;n.hide(e.sidebarMenuHolder)}},showMenuHolder:function(){if(this.constructed){var e=this.cache;n.show(e.sidebarMenuHolder)}},disableAll:function(){this.closeTray();var e=d.getSidebarMenuList(),t=this.cache;e.forEach(function(e){n.addClass(t[e.id],"disabled dsblPointrEvents")})},enableAll:function(){this.closeTray();var e=d.getSidebarMenuList(),t=this.cache;e.forEach(function(e){n.removeClass(t[e.id],"disabled dsblPointrEvents")})},isSidebarOpen:function(){return this.isTrayOpen}},n.extend(t.prototype,o.prototype),s.extend(s.getModule("SA/UI/Class"),l.REFINE_SIDEBAR,t)}(this);!function(_){var C=_.module,D=C.getModule("SA/Request/Constants");D.DC="DC",D.DC_ACTION="DC_Action",D.DC_ACTION_REFRESH="DC_Action_Refresh",D.DC_HIGHLIGHT_CELL="DC_HighlightCells",D.DC_PREVIEW="DC_PREVIEW",D.DC_CANCEL="DC_CANCEL",D.DC_DUPLICATE_VIEW_OPEN="DC_Duplicate_view_On_Open",D.DC_DUPLICATE_VIEW_CLOSE="DC_Duplicate_view_On_Close",D.DC_DUPLICATE_VIEW_RENDER="DC_Duplicate_view_On_Render",D.DC_UNIQUE_VIEW_RENDER="find_uniq_afterrender",D.DC_UNIQUE_VIEW_OPEN="find_uniq_open",D.DC_UNIQUE_VIEW_CLOSE="find_uniq_close"}(this);!function(t){function e(t){this.holder=t,this.TEMPLATE=s.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_MESSAGE,this.display=!1,this.dom=null,this.constructed=!1,this.cache=n.createPureObject(),this.construct()}var s=t.module,o=s.getModule("SA/UI/Constants/ClassNames"),i=s.getModule("SA/UI/Class"),n=s.getModule("SA/Common/Utils");e.prototype={set message(t){if(this.constructed){var e=this.cache;if(e.messageArea.textContent=t,""==t)return void this.hide();this.show()}},cacheElements:function(){if(this.constructed){{var t=this.cache;this.dom}t.messageArea=this.dom}}},n.extend(e.prototype,s.getModuleFrom(i,"UIComponent").prototype),s.extend(i,o.SIDEBAR_MESSAGE,e)}(this);!function(t){function e(t){this.holder=t,this.TEMPLATE=o.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_OPERATIONS_HOLDER,this.constructed=!1,this.cache=c.createPureObject(),this.construct()}var o=t.module,s=o.getModule("SA/UI/Class"),n=o.getModule("SA/UI/Constants/ClassNames"),c=o.getModule("SA/Common/Utils");e.prototype={cacheElements:function(){if(this.constructed){var t=this.cache,e=this.dom;t.holder=c.querySelectorID(e,"operationsHolder")}},getChamber:function(){return this.constructed?this.cache.holder:void 0},getPlayArea:function(){return this.constructed?this.dom:void 0}},c.extend(e.prototype,o.getModuleFrom(s,"UIComponent").prototype),o.extend(s,n.SIDEBAR_OPERATIONS_HOLDER,e)}(this);!function(e){var l=e.module,t=l.getModule("SA/Common/Utils"),r=(l.getModule("SA/UI/Class"),l.getModule("SA/UI/Class/ClusterGridEdit")),n=l.getModule("SA/Controller/UIActionMapper");logger.warn("handle cluster replace all click"),r.onClusterValueCheckChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.checked;!o&&t.addClass(e.srcElement.closest("div").querySelector("#cholder"),"disabled"),o&&t.removeClass(e.srcElement.closest("div").querySelector("#cholder"),"disabled"),n.onclusterValueCheckChange(a,o)}},r.onClusterReplaceAllClick=function(e){if(e){var l=t.getElementFromEvent(e),r=l.checked;n.onClusterReplaceAllClick(r),n.reRenderClusterGrid()}},r.onClusterReplaceValueChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.value;n.onClusterReplaceValueChange(a,o)}},r.onClusterLabelClick=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.textContent;n.onClusterReplaceValueChange(a,o),n.reRenderClusterGrid()}},r.onClusterGroupCheckChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.checked;n.onClusterGroupCheckChange(a,o),n.reRenderClusterGrid()}},r.onClusterFilterClick=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1];n.onClusterFilterClick(+a)}}}(this);!function(e){var t=e.module,l=(t.getModule("SA/UI/Class"),t.getModule("SA/Common/Utils")),o=t.getModule("SA/Controller/SheetAppController"),s=t.getModule("SA/Controller/SheetAppUIController"),n=t.getModule("SA/Common/Constants/OperationConstants"),u=t.getModule("SA/Model/Class"),a=t.getModule("SA/Model/Constants/ClassNames"),i=t.getModule("SA/Request/SheetRequest"),r=t.getModule("SA/Request/Constants"),c=(t.getModule("SA/UI/Constants/Message"),t.getModule("SA/UI/Constants/MenuScope"));e._clusterStore=null,o.cluster={data:_clusterStore},o.open=function(e){s.openRefineview(),s.openTray(400),e&&o.loadColumn(e)},o.close=function(){s.closeRefinePanel()},o.load=function(e){o.open(e.columns),e.mode&&s.setOperationMenuValue(e.mode,!0),!l.isUndefined(e.currentCol)&&s.setColumnMenuValue(e.currentCol,!0)},o.loadColumn=function(e){s.loadColumn(e)},o.dispatchClusterEvent=function(e){i.postMessage(r.DC,{detail:{col:e,mode:n.CLUSTER,callback:o.ClusterConstruct,level:6}})},o.triggerColumnChange=function(e,t){-1!=e&&s.setColumnMenuValue(e,t)},o.dispatchMissingValueEvent=function(e){i.postMessage(r.DC,{detail:{col:e,mode:n.MISSING_VALUE,callback:s.showFillMissingValueView}})},o.onSidebarOperationMenuChange=function(e,t,l,u){if(u=+u,s.resetDatacleaningview(),-1==l)return void s.showMessage(SA_EN.Preview.Sidebar.FixMissing.SelectColumn);switch(u){case n.CLUSTER:s.showClusterView(),o.dispatchClusterEvent(l,u),s.showGridLoader();break;case n.MISSING_VALUE:s.showMessage(""),s.showGridLoader(),o.dispatchMissingValueEvent(l,u),s.resetFill();break;case n.DUPLICATE:c.scope=n.DUPLICATE,s.showFindDuplicateView();break;case n.FIND_UNIQUE:c.scope=n.FIND_UNIQUE,s.showFindDuplicateView()}},o.onRefineCancelClick=function(){_clusterStore=null,o.triggerColumnChange(-1),s.close(),i.postMessage(r.DC_CANCEL)},o.ClusterConstruct=function(e){l.isUndefined(e)||(s.hideGridLoader(),e.length?(_clusterStore=new u[a.CLUSTER_GRID_MODEL_INSTANCE](0,0,0,0,e,!0),s.setClusterGridHeight(32*_clusterStore.data.length+40+2),s.loadClusterGrid(_clusterStore)):(s.showMessage(SA_EN.Preview.Sidebar.FixMisspeling.Alert),_clusterStore=null))},o.onClusterFilterClick=function(e){var t=_clusterStore.getPreviewRows(e);i.postMessage(r.DC_PREVIEW,{detail:{rows:t}})},o.onClusterReplaceAllClick=function(e){s.changeClusterReplaceAllHeader(e),_clusterStore.setReplaceAllState(e)},o.onclusterValueCheckChange=function(e,t){_clusterStore.setClusterValueCheckState(e,t)},o.onClusterReplaceValueChange=function(e,t){_clusterStore.setReplaceValue(e,t)},o.onClusterGroupCheckChange=function(e,t){_clusterStore.setClusterGroupCheckState(e,t)},o.onSidebarApplyClick=function(e,t,l){t=t||r.DC_ACTION;var o=s.getOperationMenuValue();switch(o=+o){case n.CLUSTER:i.postMessage(t,{detail:{callback:function(){_clusterStore=null,s.hideGrid(),l&&l(),s.hideGridLoader()},data:_clusterStore.clusterInstance}}),s.showGridLoader();break;case n.MISSING_VALUE:i.postMessage(t,{detail:{level:s.getFillValue(),value:s.getFillInputBoxValue(),col:s.getColumnMenuValue(),mode:n.MISSING_VALUE}}),s.resetFill(),s.showGridLoader()}},o.onRefineApplyClick=function(e){s.getColumnMenuValue();o.onSidebarApplyClick(e,r.DC_ACTION_REFRESH,function(){})},o.init=function(e){s.init(e)},o.showEmptyRecords=function(){i.postMessage("showEmptyRecords")},o.fireCustomEvent=function(e,t){i.postMessage(e,t)}}(this);!function(e){var t=e.module,n=t.getModule("SA/Controller/SheetAppUIController"),i=t.getModule("SA/UI/View/Controller"),o=t.getModule("SA/UI/Constants/ClassNames"),a=t.getModule("SA/UI/Registry/").getComponent,E=t.getModule("SA/Common/Utils"),r=t.getModule("SA/UI/View/Constants"),u=t.getModule("SA/UI/Class"),l=t.getModule("SA/UI/Component/FillMissingValue/Constants"),d=t.getModule("SA/UI/Constants/SidebarConstants");n.init=function(e){i.init(e)},n.close=function(){i.hideAll()},n.loadColumn=function(e){if(!E.isUndefined(e)){var t=a(o.SIDEBAR_HEADER);t.updateColumnSelectMenu(e)}},n.openRefineview=function(){i.getSheetAppSidebarView().mode=r.REFINE_SIDEBAR_VIEW;var e=a(o.REFINE_SIDEBAR);e.hideSidePanelHeader()},n.clearSidebarGrid=function(){var e=a(o.SIDEBAR_GRID);e.grid&&e&&e.loadData([])},n.hideRefineview=function(){i.getSheetAppSidebarView().hide(r.REFINE_SIDEBAR_VIEW)},n.getColumnMenuValue=function(){var e=a(o.SIDEBAR_HEADER);return e.getColumnMenuValue()},n.getOperationMenuValue=function(){var e=a(o.SIDEBAR_HEADER);return e.getOperationMenuValue()},n.openTray=function(e){var t=a(o.REFINE_SIDEBAR);t.openTray(e)},n.hideTray=function(){var e=a(o.REFINE_SIDEBAR);e.closeTray()},n.hideGrid=function(){var e=a(o.SIDEBAR_GRID);e.loadData([[]])},n.setClusterGridHeight=function(e){var t=a(o.SIDEBAR_FOOTER),n=t.dom.offsetHeight,i=a(o.SIDEBAR_HEADER),E=a(o.SIDEBAR_GRID),r=a(o.REFINE_COMPONENT).cache.sidepanelArea.offsetHeight,u=r-n+i.dom.offsetHeight;E.dom&&(E.dom.style.maxHeight=(e>u?u:e)+"px")},n.loadClusterGrid=function(e){var t=e.getData(),n=a(o.SIDEBAR_GRID);if(n.loadData(t),t.length){var i=a(o.SIDEBAR_FOOTER);i.show()}else a(o.SIDEBAR_FOOTER).hide()},n.setColumnMenuValue=function(e,t){var n=a(o.SIDEBAR_HEADER);n.setColumnMenuValue(e,t)},n.setOperationMenuValue=function(e,t){var n=a(o.SIDEBAR_HEADER);n.setOperationMenuValue(e,t)},n.getFillValue=function(){var e=a(o.FILL_MISSING_VALUE);return e.getValue()},n.getFillInputBoxValue=function(){var e=a(o.FILL_MISSING_VALUE);return e.getInputBoxValue()},n.showGridLoader=function(){var e=a(o.SIDEBAR_GRID);e.showLoader()},n.hideGridLoader=function(){var e=a(o.SIDEBAR_GRID);e.hideLoader()},n.renderClusterGrid=function(){var e=a(o.SIDEBAR_GRID);e.grid.render()},n.resetDatacleaningview=function(){a(o.SIDEBAR_FOOTER).hide();a(o.SHEET_DUPLICATE_COMPONENT_HOLDER).hide(),n.hideMessage(),n.clearSidebarGrid()},n.showFillMissingValueView=function(t){if(a(o.SIDEBAR_HEADER).mode=d.NORMAL_SELECT,n.hideGridLoader(),0==t)return void n.showMessage(e.SA_EN.Preview.Sidebar.FixMissing.Alert);i.getRefineView().mode=r.FILL_MISSING_VALUES;var E=a(o.SIDEBAR_FOOTER),u=a(o.FILL_MISSING_VALUE);u.hideRadio(l.REMOVE_BLANKS),u.hideRadio(l.AVERAGE),E.showButton("applyButton"),E.changeLabel("applyButton","Fill Values"),E.hideButton("refineapplyButton"),E.hideButton("cancelButton"),u.setCount(t)},n.resetFill=function(){var e=a(o.FILL_MISSING_VALUE);e.reset()},n.showClusterView=function(){i.getRefineView().mode=r.CLUSTER;var e=a(o.SIDEBAR_FOOTER);e.showButton("refineapplyButton"),e.hideButton("applyButton"),a(o.SIDEBAR_HEADER).mode=d.NORMAL_SELECT,e.hideButton("cancelButton");var t=a(o.SIDEBAR_GRID);t.loader&&t.loader.addClass("sPDCLoader")},n.setFillMissingCategory=function(e){var t=a(o.FILL_MISSING_VALUE);t.setColumnCategory(e)},n.showMessage=function(e){i.getRefineView().mode=r.SIDEBAR_ERROR;var t=a(o.SIDEBAR_MESSAGE);t.message=e},n.getSidebarGrid=function(){return a(o.SIDEBAR_GRID).grid},n.hideMessage=function(){var e=a(o.SIDEBAR_MESSAGE);e.hide()},n.changeClusterReplaceAllHeader=function(e){var t=a(o.SIDEBAR_GRID),n=[u[o.CLUSTER_HEADER].constructReplaceAllCheckBox(e),"Clusters","Replace Value"];t.setHeader(n)},n.showFindDuplicateView=function(){i.getRefineView().show(r.DEDUPLICATE,!0);var e=a(o.SIDEBAR_HEADER);e.mode=d.OPERATION_SELECT_ONLY},n.showFindUniqueView=function(){i.getRefineView().mode=r.FIND_UNIQUE;var e=a(o.SIDEBAR_HEADER);e.mode=d.OPERATION_SELECT_ONLY}}(this);!function(e){var n=e.module,l=n.getModule("SA/Controller/UIActionMapper"),o=n.getModule("SA/Controller/SheetAppController"),r=n.getModule("SA/Common/Utils"),C=n.getModule("SA/Controller/SheetAppUIController");l.onRefineApplyClick=o.onRefineApplyClick,l.onRefineCancelClick=o.onRefineCancelClick,l.onClusterReplaceAllClick=o.onClusterReplaceAllClick,l.onclusterValueCheckChange=o.onclusterValueCheckChange,l.onClusterReplaceValueChange=o.onClusterReplaceValueChange,l.onClusterGroupCheckChange=o.onClusterGroupCheckChange,l.onClusterFilterClick=o.onClusterFilterClick,l.onRefineSidebarMenuClick=o.onRefineMenuClick,l.onSidebarColumnChange=o.onSidebarOperationMenuChange,l.onSidebarOperationMenuChange=o.onSidebarOperationMenuChange,l.onSidebarApplyClick=o.onSidebarApplyClick,l.runClusterAction=r.EMPTY_FUNCTION,l.reRenderClusterGrid=C.renderClusterGrid,l.fireCustomEvent=o.fireCustomEvent,l.showEmptyRecords=o.showEmptyRecords}(this);!function(E){var e=E.module,I=e.getModule("SA/UI/View/Config"),R=e.getModule("SA/Common/Utils"),t=e.getModule("SA/UI/View/Constants"),n=e.getModule("SA/UI/Registry").getComponent,o=e.getModule("SA/UI/Constants/ClassNames");I.getDataCleansingConfigurations=function(E){var e=R.createPureObject();return e[t.REFINE_SIDEBAR_VIEW]=[{component:n(o.REFINE_COMPONENT,E)},{component:n(o.REFINE_SIDEBAR,n(o.REFINE_COMPONENT).getPlayArea())},{component:n(o.SIDEBAR_HEADER,n(o.REFINE_SIDEBAR).getChamber())}],e},I.getRefineViewConfigurations=function(){var E=R.createPureObject();return E[t.CLUSTER]=[{component:n(o.SIDEBAR_OPERATIONS_HOLDER,n(o.REFINE_SIDEBAR).getChamber())},{component:n(o.CLUSTER_HEADER,n(o.SIDEBAR_OPERATIONS_HOLDER).getChamber())},{component:n(o.SIDEBAR_GRID,n(o.REFINE_SIDEBAR).getChamber())}],E[t.FILL_MISSING_VALUES]=[{component:n(o.SIDEBAR_OPERATIONS_HOLDER,n(o.REFINE_SIDEBAR).getChamber())},{component:n(o.FILL_MISSING_VALUE,n(o.SIDEBAR_OPERATIONS_HOLDER).getChamber())},{component:n(o.SIDEBAR_FOOTER,n(o.REFINE_SIDEBAR).getChamber(),[o.SIDEBAR_MESSAGE])}],E[t.DEDUPLICATE]=[{component:n(o.SIDEBAR_OPERATIONS_HOLDER,n(o.REFINE_SIDEBAR).getChamber())},{component:n(o.SHEET_DUPLICATE_COMPONENT_HOLDER,n(o.REFINE_SIDEBAR).getChamber())}],E[t.FIND_UNIQUE]=[{component:n(o.SIDEBAR_OPERATIONS_HOLDER,n(o.REFINE_SIDEBAR).getChamber())},{component:n(o.SHEET_FIND_UNIQUE,n(o.REFINE_SIDEBAR).getChamber())}],E[t.SIDEBAR_ERROR]=[{component:n(o.SIDEBAR_MESSAGE,n(o.REFINE_SIDEBAR).getChamber())}],E}}(this);!function(e){var t=e.module,o=t.getModule("SA/UI/Constants/Message"),i=t.getModule("SA/Common/Utils");o.ERROR_DIALOG="Error Dialog",o.WARNING_DIALOG="Warning Dialog",o.SUCCESS_DIALOG="Success Dialog",o.SELECT_COLUMN="Select a column for data cleansing",o.NO_BLANKS="No missing values.",o.INVALID_SELECTION="Invalid Selection !!",o.BLANK_ROWS_AVAILABLE=" missing values.",o.SPLIT_AVAILABLE=" new columns will be inserted.",o.CLUSTERS_FOUND=" clusters found.",o.EMPTY_COLUMN=" Empty Column",o.TRY_DIFFERENT_ALGO="No groups found.",o.SAMPLE_DIALOG="Sheet2App",i.mixIn(o,{FIELD_WARNING:"The field type set for the column is not appropriate for the data",FIELD_ERROR:"The field type set for the column is not compatible with data. Import errors will occur. Do you want to proceed?",DEPENDANT_TYPE_CHANGE:"Column is a part of lookup relationship.To change the type, drop the relationship ",SERVER_DOWN:"Server is down.",TRY_LATER:"Please try after sometime.",VALID_SHEET_URL:"Please provide a valid file URL.",CHECK_UPLOADED_FORMAT:"Please check if the uploaded file format is supported.",SUPPORTED_FORMATS:"Supported file formats are .xls, .xlsx, .csv,  .tsv, .ods",SUPPORTED_FORMATS_2:"Supported file formats are .xls, .xlsx, .csv,  .tsv, .ods, .accdb, .mdb",CLOUD_CANNOT_FETCH:"We are unable to fetch the attachment from cloud service. Please try again.",NO_TABULAR_DATA:"We couldn't find any tabular data in your file.",CHOOSE_SUPPORTED_FORMAT:"Choose a file from the supported formats(.xls, .xlsx, .csv,  .tsv, .ods, .mdb, .accdb)",CHOOSE_SUPPORTED_FORMAT_SHEET:"Choose a file from the supported formats(.xls, .xlsx, .csv,  .tsv, .ods)",CHECK_VALID_URL:"Please check if the entered URL is valid.",INTERNAL_SERVER_ERR:"Internal server error occurred.",SERVER_NO_RESPONSE:"Server is not responding.",REPORT_ISSUE:"Please report the issue.",CANNOT_FETCH_LIST:"We are unable to fetch the applications list.",APP_NM_EMPTY:"Application name cannot be empty.",APP_NM_LIMIT:"Application name cannot contain more than 50 characters.",APP_NAME_EXISTS:"Application with the same name already exists.",APP_CREATE_ERR:"Error in creating the application.",APP_CREATE_OK:"Application is created successfully.",APP_DELETE:"Are you sure you want to delete ",APP_PERMANENT_DEL:"The application will be permanently deleted.",APP_DELETED:" is permanently deleted",FORM_DISP_NM:"Provide a display name for the form.",FORM_NM_LIMIT:"Form display name must be lesser than ",FIELD_NM_LIMIT:"Field display name must be lesser than ",NO_TABLE_SEL:"No table is selected for application creation.",APP_CANCEL:"Are you sure you want to cancel the application creation? The imported table information will be lost.",ID_CANCEL:"Are you sure you want to cancel? The imported table information will be lost.",ENTER_URL:"Enter a URL to import.",IMPORT_INCOMPATIBLE:"Applied conditional format and validation rule will not be imported if column data type is not compatible with condition type.",IMPORT_INCOMPATIBLE_CF:"Applied conditional format rule will not be imported if column data type is not compatible with condition type.",IMPORT_INCOMPATIBLE_DV:"Applied validation rule will not be imported if column data type is not compatible with condition type.",PRECEDENT_TYPE_CHANGED_COL:"The field type of precedent of this formula is changed. ",PRECEDENT_TYPE_CHANGED:"The field type of a formula precedent is changed. The related formula fields will not be imported as a formula. ",DEPENDANTS_TYPE_CHANGED:"The type of dependants of this column is changed to ",HIGHLIGHT_REL:"Click to highlight the parent and child column of this lookup relationship.",REMOVE_VLOOK_DEP:"Column is dependant on another column. Please remove the relation/dependant columns to remove the current column.",PARENT_COL_EXCLUDE:"A parent column cannot be dropped. To drop, remove all the lookup relationship it is part of.",PARENT_TAB_EXCLUDE:"A parent table cannot be dropped. To drop, remove all the lookup relationship it is part of.",RECORD_ERROR:"Internal server error occurred while importing records. Please report the issue.",INPUT_VALIDATION_ERR:"Please correct the error in input fields to proceed.",MULTI_LIST_WARN:"The comma-separated values will be split and added to the list choices.",MULTI_CB_WARN:"The comma-separated values will be split and added to the checkbox choices.",MULTI_LIST_NOTE:"Muliselect list may be appropriate.",MULTI_LIST_DROP_NOTE:"Dropdown/Muliselect list may be appropriate.",MULTI_LIST_RADIO_NOTE:"Radio button/Muliselect list may be appropriate.",MULTI_BOX_NOTE:"Muliselect checkbox may be appropriate.",MULTI_BOX_DROP_NOTE:"Dropdown/Muliselect checkbox may be appropriate.",MULTI_BOX_RADIO_NOTE:"Radio button/Muliselect checkbox may be appropriate.",FILE_SIZE_MORE_THAN_ALLOWED_SIZE:"Uploaded file size exceeded the maximum limit (10 MB)",FILE_SIZE_MORE_THAN_ALLOWED_SIZE_ACCESS:"Uploaded file size exceeded the maximum limit (20 MB)",FILE_SIZE_EXCEED_CLOUD:"Uploaded file size exceeded the maximum limit",FILE_ZERO_BYTES:"No data is available in the uploaded file",COLUMNS_EXCEEDED:"table contains more than 70 columns. We support imports only to a maximum limit of 70 columns. Please try again, after reducing the number of columns in your file.",TIMEOUT_MSG:"It took longer than usual to process the file.",COLUMN_ALREADY_PARENT:"Field is already a parent of another relationship.",VALIDATION_EMPTY:"Please provide the input for all fields.",GROUP_FIX:"Group and fix spelling errors in column - ",FORM_CREATE_ERR:"Error in creating the form.",INVALID_SUBFORM:"Please ensure that all the values in linking column of subform are present in linking column of mainform to avoid missing record links."})}(this);!function(e){function t(e){this.holder=e,this.display=!1,this.constructed=!1,this.TEMPLATE=r.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_GRID,this.attached=!1,this.cache=s.createPureObject(),this.dom=null,this.grid=null,this.loader=new o[a.LOADER](e),this.construct()}function i(){if(this.type==n.CLUSTER){var e=this.dom,t=e.querySelectorAll(".rowSelect"),i=e.querySelectorAll(".clusterReplaceBy"),l=e.querySelectorAll(".chooseCluster"),r=e.querySelectorAll("#replaceAll"),o=e.querySelectorAll(".clusterFilter"),d=e.querySelectorAll(".clustrName");s.bindAllEvent(r,"click",c.onClusterReplaceAllClick),s.bindAllEvent(t,"click",c.onClusterValueCheckChange),s.bindAllEvent(i,"keyup",c.onClusterReplaceValueChange),s.bindAllEvent(l,"click",c.onClusterGroupCheckChange),s.bindAllEvent(o,"click",c.onClusterFilterClick),s.bindAllEvent(d,"click",c.onClusterFilterClick)}if(this.type==n.COLUMN_SUMMARY){var e=this.dom,a=e.querySelectorAll(".freqEdit");s.bindAllEvent(a,"click",u.onEditIconClick)}}function l(e){switch(e){case n.SPLIT_COLUMNS:return{stretchH:"all",renderAllRows:!1,rowHeaders:!1,manualColumnResize:!0,copyable:!1,editor:!1,fillHandle:!1,colWidths:180};case n.CLUSTER:return{columns:[{data:"checked",renderer:"html"},{data:"group",renderer:"html"},{data:"input",renderer:"html"}],colHeaders:[o[d].constructReplaceAllCheckBox(!0),SA_EN.Preview.Sidebar.FixMisspeling.Clusters,SA_EN.Preview.Sidebar.FixMisspeling.Replace],colWidths:h.getSidebarClusterGridWidth(),fillHandle:!1,copyable:!1,editor:!1,rowHeaders:!1,autoColumnSize:!0,disableVisualSelection:!0};case n.MERGE:return{stretchH:"all",renderAllRows:!1,rowHeaders:!1,manualColumnResize:!0,copyable:!1,editor:!1,fillHandle:!1,colWidths:180,colHeaders:["merge column"],columns:["A"]};case n.DEDUPLICATE:return{colHeaders:["Merge","Value","Count"],colWidths:[40,160,80],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,fillHandle:!1,hiddenColumns:{},columns:[{data:"mergeBtn",renderer:"html"},{data:"Duplicates",renderer:"html"},{data:"count",renderer:"html"}]};case n.ADDRESS_SPLIT:return{colHeaders:["AddressLine1","AddressLine2","City/District","State/Province","PostalCode","Country"],columns:[{data:"ADDRESS_LINE1"},{data:"ADDRESS_LINE2"},{data:"DISTRICT_CITY"},{data:"STATE_PROVINCE"},{data:"POSTAL_CODE"},{data:"COUNTRY"}],colWidths:180,fillHandle:!1,copyable:!1,editor:!1,rowHeaders:!1,autoColumnSize:!0,disableVisualSelection:!0};case n.COLUMN_SUMMARY:return{colHeaders:["Frequency Distribution of Values in Column"],colWidths:[100,100],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,fillHandle:!1,hiddenColumns:{},columns:[{data:"cell",renderer:"html"}]};case n.TABLE_SUMMARY:return{colHeaders:["Actions"],colWidths:[100,100],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,fillHandle:!1,hiddenColumns:{},columns:[{data:"cell",renderer:"html"}]}}}var r=e.module,s=r.getModule("SA/Common/Utils"),o=r.getModule("SA/UI/Class"),n=r.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),d=r.getModule("SA/UI/Constants/ClassNames").CLUSTER_HEADER,a=r.getModule("SA/UI/Constants/ClassNames"),c=r.getModule("SA/UI/Class/ClusterGridEdit"),u=r.getModule("SA/UI/Class/ColumnSummaryEdit"),h=r.getModule("SA/Service"),C=(r.getModule("SA/Controller/UIActionMapper"),s.createPureObject());C[n.CLUSTER]="clusterGrid",C[n.SPLIT_COLUMNS]="splitGrid",C[n.DEDUPLICATE]="duplicateListGrid",C[n.MERGE]="mergecolumnList",C[n.ADDRESS_SPLIT]="addressSplit",C[n.COLUMN_SUMMARY]="columnSummary",C[n.TABLE_SUMMARY]="tablesummaryGrid",t.prototype={set mode(e){if(this.grid&&this.type!=e){var t=this.grid.options.event;delete this.grid.options,this.type&&s.removeClass(this.cache.gridElement,C[this.type]),s.addClass(this.cache.gridElement,C[e]),this.type=e,this.grid.options=l(e),this.grid.options.event=t,this.grid.updateSetting()}},get mode(){return this.type},setHeader:function(e){this.grid&&this.grid.setHeader(e)},loadData:function(e){var t=this.grid;s.isUndefined(t)&&this.show(),e&&e.length?(this.showGrid(),t.loadData(e),t.selectCell(0,0)):this.hideGrid()},showLoader:function(){this.loader.show()},hideLoader:function(){this.loader.hide()},cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;e.gridElement=s.querySelectorID(t,"SidebarGrid")}},afterRender:function(){if(this.constructed){var e=this.cache;this.grid=new o[a.HANDSON](e.gridElement,l(n.DEFAULT_GRID_TYPE)),this.grid.addHooks("afterRender",i.bind(this)),this.mode=n.CLUSTER}},gridRender:function(){this.grid&&(this.grid.render(),i.call(this))},showGrid:function(){if(this.constructed){var e=this.cache;s.show(e.gridElement),s.show(this.dom)}},hideCallBack:function(){},hideGrid:function(){if(this.constructed){var e=this.cache;s.hide(e.gridElement),s.hide(this.dom)}},updateSetting:function(e){!s.isUndefined(e)&&this.grid&&this.grid.updateConfiguration(e)},clear:function(){this.hideGrid();var e=this.grid;e&&e.clear()}},s.extend(t.prototype,r.getModuleFrom(o,"UIComponent").prototype),r.extend(o,a.SIDEBAR_GRID,t)}(this);!function(t){function s(t){this.holder=t||document.body,this.display=!1,this.attached=!1,this.dom=null,this.constructed=!1,this.TEMPLATE=o.getModule("SA/UI/Constants/TemplateConstants").LOADER,this.construct()}var o=t.module,e=o.getModule("SA/UI/Class"),n=o.getModule("SA/UI/Constants/ClassNames"),d=o.getModule("SA/Common/Utils");s.prototype={addClass:function(t){d.addClass(this.dom,t)},removeClass:function(t){d.removeClass(this.dom,t)}},d.extend(s.prototype,o.getModuleFrom(e,"UIComponent").prototype),o.extend(e,n.LOADER,s)}(this);!function(e){function t(e){this.holder=e,this.constructed=!1,this.attached=!1,this.dom=null,this.display=!1,this.cache=c.createPureObject(),this.columnSelectMenu=null,this.operationSelectMenu=null,this.construct()}function n(e){var t=[];return e.forEach(function(e){var n=d(r.DESCRIPTIVE_SELECTMENU);n.querySelector(".deslabel").textContent=e.value,n.querySelector(".descContent").textContent=e.desc,t.push({label:e.key,innerHTML:n.innerHTML.trim()})}),t}function o(){m.loadSampleMergeColumns()}function i(e,t){if(e&&t){var n=t.item||t,o=n.value;o=o;var i=this.getColumnMenuValue();m.onSidebarOperationMenuChange(this.sid,this.tid,i,o)}}function l(e,t){if(e&&t){var n=t.item||t,o=n.value;o=+o;var i=this.getOperationMenuValue();m.onSidebarColumnChange(this.sid,this.tid,o,i)}}{var s=e.module,u=s.getModule("SA/UI/Class"),c=s.getModule("SA/Common/Utils"),a=s.getModule("SA/UI/Constants/ClassNames"),r=s.getModule("SA/UI/Constants/TemplateConstants"),h=s.getModule("SA/Service"),d=s.getModule("SA/Common/Template").getTemplate,S=s.getModule("SA/UI/Constants/SidebarConstants"),m=s.getModule("SA/Controller/UIActionMapper");s.getModule("SA/Common/Constants/TypeConstants"),s.getModule("SA/UI/Constants/RefineConstants")}t.prototype={set mode(e){if(this.type=e,this.constructed){var t=this.cache;c.show(t.operationSelectArea),e==S.NORMAL_SELECT&&(c.show(t.columnSelectArea),c.hide(t.columnTokenSelectArea)),e==S.TOKEN_SELECT&&(c.hide(t.columnSelectArea),c.show(t.columnTokenSelectArea)),e==S.OPERATION_SELECT_ONLY&&(c.hide(t.columnSelectArea),c.hide(t.columnTokenSelectArea))}},setSheetID:function(e,t){c.isUndefinedAll([e,t])||(this.sid=e,this.tid=t)},setLabel:function(){if(this.constructed&&this.dom){var e=this.cache;c.setLabel(c.querySelectorID(e.columnTokenSelectArea,"label"),SA_EN.Preview.Sidebar.Header.ColumnName),c.setLabel(c.querySelectorID(e.columnSelectArea,"label"),SA_EN.Preview.Sidebar.Header.ColumnName),c.setLabel(c.querySelectorID(e.operationSelectArea,"label"),SA_EN.Preview.Sidebar.Header.Operation)}},construct:function(e){if(!this.constructed||e){this.dom=d(r.SIDEBAR_HEADER);var t=h.getSidebarHeaderElements(),n=this.cache;n.contentArea=c.querySelectorID(this.dom,"HeaderContentArea");for(var o=0,i=t.length;i>o;o++)n.contentArea.append(d(r[t[o]]));this.constructed=!0,this.cacheElements(),this.setLabel()}},openTokenMenu:function(){this.tokenSelectMenu&&this.tokenSelectMenu.open()},setOperationMenuValue:function(e,t){return t?void this.operationSelectMenu.setValueChange(e):void(this.operationSelectMenu.value=e)},setColumnTokenMenu:function(e){this.tokenSelectMenu&&this.tokenSelectMenu.popultateToken(e)},setColumnMenuValue:function(e,t){return t?void this.columnSelectMenu.setValueChange(e):void(this.columnSelectMenu.value=e)},cacheElements:function(){if(this.constructed&&!c.isUndefined(this.dom)){var e=this.cache,t=this.dom;!e.contentArea&&(e.contentArea=c.querySelectorID(t,"HeaderContentArea")),e.columnSelectArea=c.querySelectorID(t,"ColumnSelectArea"),e.operationSelectArea=c.querySelectorID(t,"OperationSelectArea"),e.columnSelect=c.querySelectorID(t,"ColumnSelect"),e.operationSelect=c.querySelectorID(t,"OperationSelect"),e.columnTokenSelectArea=c.querySelectorID(t,"ColumnTokenSelectArea"),e.tokenSelect=c.querySelectorID(t,"ColumnTokenSelect"),e.columnTokenSelectArea&&c.hide(e.columnTokenSelectArea)}},getSelectedTokenList:function(){return this.tokenSelectMenu&&this.tokenSelectMenu.getValues()},getOperationMenuValue:function(){return this.operationSelectMenu.value},getColumnMenuValue:function(){return+this.columnSelectMenu.value},updateTokenList:function(e){this.tokenlist=e},clearTokenMenu:function(){this.tokenSelectMenu&&this.tokenSelectMenu.clear()},updateTokenMenu:function(e,t){return!this.attached&&e?(t&&(e=c.constructAsKeyValue(columnList)),void this.updateTokenList(e)):(e=e||this.tokenlist,void(e&&this.cache.tokenSelect&&(this.tokenSelectMenu&&this.tokenSelectMenu.destroy(),e[0]&&-1==e[0].key&&e.shift(),this.tokenSelectMenu=new u[a.TOKEN_SELECT](this.cache.tokenSelect,{data:e},o.bind(this)),this.tokenlist=null)))},setupOperationSelectMenu:function(e){if(logger.warn("handle descriptive selective menu"),this.constructed){var t=this.cache,o=t.operationSelect;if(!c.isUndefined(o)){{var l=e||h.getSidebarOperationList();({data:l,handler:i.bind(this)})}this.operationSelectMenu&&this.operationSelectMenu.destroy(),this.operationSelectMenu=u[a.SELECT_MENU].constructFromDataSource(o,n(l),i.bind(this)),0==l.length?this.operationSelectMenu&&this.operationSelectMenu.disable():this.operationSelectMenu.enable()}}},updateColumns:function(e){this.dirty=!0,this.columnsList=e},updateColumnSelectMenu:function(e,t){if(!this.attached&&e)return t&&(e=c.constructAsKeyValue(e)),void this.updateColumns(e);if(e=e||this.columnsList){var n=this.cache,o=n&&n.columnSelect;if(!c.isUndefined(o)){e.unshift({key:-1,value:"Select"});var i={data:e,handler:l.bind(this)};this.columnSelectMenu&&this.columnSelectMenu.destroy(),this.columnSelectMenu=(u[a.COMBO_BOX]||u[a.SELECT_MENU]).constructFromData(o,i,void 0),2==e.length?(this.columnSelectMenu.value=e[1].key,this.columnSelectMenu&&this.columnSelectMenu.disable()):this.columnSelectMenu&&this.columnSelectMenu.enable(),this.columnsList=null,this.dirty=!1}}},show:function(){this.attached||this.render(),this.display||(c.show(this.dom),this.display=!0,this.dirty&&(this.updateColumnSelectMenu(),this.updateTokenMenu(),!this.operationSelectMenu&&this.setupOperationSelectMenu()))},hide:function(){this.attached||this.render(),this.display&&(c.hide(this.dom),this.display=!1)},afterRender:function(){this.setupOperationSelectMenu(),this.updateColumnSelectMenu(),this.updateTokenMenu()},render:function(e){for(var t=e||this.holder;!this.constructed;)this.construct();var n=this.dom;n&&t.append(n),this.attached=!0,this.display=!0,this.afterRender()}},c.extend(t.prototype,s.getModule("SA/UI/Class/UIComponent").prototype),s.extend(u,a.SIDEBAR_HEADER,t)}(this);